# waydroid
# pre-dependencies: tailor check ALWAYS curl presence
---
name: waydroid
description: 'waydroid installation'
author: Jon West
release: "0.0.2"
distroId: Debian
codenameId: bookworm
releaseId: unstable
applyTo: naked

sequence:
  repositories:
    sourcesList:
      main: true
      contrib: true
      nonFree: true

    sourcesListD:
    - curl -fsSL  "https://repo.waydro.id/waydroid.gpg" | gpg --dearmor -o /usr/share/keyrings/waydroid.gpg
    - echo "deb [signed-by=/usr/share/keyrings/waydroid.gpg] https://repo.waydro.id/ bookworm main" | tee /etc/apt/sources.list.d/waydroid-ppa.list > /dev/null
    - curl -fsSL "https://pieroproietti.github.io/penguins-eggs-ppa/KEY.gpg" | gpg --dearmor -o /usr/share/keyrings/penguins-eggs-ppa.gpg
    - echo "deb [signed-by=/usr/share/keyrings/penguins-eggs-ppa.gpg]  https://pieroproietti.github.io/penguins-eggs-ppa ./ " | tee /etc/apt/sources.list.d/penguins-eggs-ppa.list > /dev/null
    update: true
    full-upgrade: true

  dependencies:
  - iptables
  - lxc
  - wget
  - git

  # install-suggests
  # install-recommends
  # no-install-suggests
  # no-install-recommends
  packages:
  # install-suggests; it is default
  - gir1.2-gtk-3.0
  - gnome-terminal
  - python3
  - python3-gi
  - python3-gi-cairo
  - waydroid
  - weston

  # --no-install-recommends --no-install-suggests
  # I'm trying here to not install X11 dependencies
  noInstallRecommends:
    - desktop-base
    - gdm3
    - gnome-session


  debs: false

  customizations:
    scripts:
    # wget -O - https://raw.githubusercontent.com/axel358/Waydroid-Settings/main/install.sh | bash
    - install.sh
    skel: true
    usr: true

  hostname: true

  reboot: true
...
